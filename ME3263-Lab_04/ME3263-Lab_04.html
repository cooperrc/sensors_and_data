
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ME 3263 Introduction to Sensors and Data Analysis (Fall 2018) &#8212; Introduction to Sensors and Data</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Introduction to Sensors and Data</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../README.html">
   Introduction to Sensors and Data Analysis
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../ME3263-Lab_00/README.html">
   Lab 0 - Statistics and Student’s t-test
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../ME3263-Lab_00/ME3263-Lab_00.html">
     ME 3263 - Laboratory # 0
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../ME3263-Lab_01/README.html">
   Lab 1 - 	Measurements of machining precision and accuracy
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../ME3263-Lab_01/ME3263-Lab_01.html">
     ME 3263 - Laboratory #1
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../ME3263-Lab_02/README.html">
   Lab 2 - Static beam deflections with strain gauge
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../ME3263-Lab_02/ME3263-Lab_02.html">
     ME 3263 - Laboratory #2
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/ME3263-Lab_04/ME3263-Lab_04.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/cooperrc/sensors_and_data"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/cooperrc/sensors_and_data/issues/new?title=Issue%20on%20page%20%2FME3263-Lab_04/ME3263-Lab_04.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/cooperrc/sensors_and_data/master?urlpath=tree/ME3263-Lab_04/ME3263-Lab_04.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   ME 3263 Introduction to Sensors and Data Analysis (Fall 2018)
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lab-4-predicting-natural-frequencies-with-the-finite-element-method">
     Lab #4 Predicting Natural Frequencies with the Finite Element Method
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#what-is-the-finite-element-method">
       What is the Finite Element Method?
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#predicting-natural-frequencies">
       Predicting Natural Frequencies
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#two-degree-of-freedom-modal-analysis-example">
       Two Degree of Freedom Modal Analysis Example
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#fea-modal-analysis">
       FEA modal analysis
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#references">
   References
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">linalg</span>

<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;font.size&#39;</span><span class="p">:</span> <span class="mi">18</span><span class="p">})</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;lines.linewidth&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>

<span class="n">pi</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="me-3263-introduction-to-sensors-and-data-analysis-fall-2018">
<h1>ME 3263 Introduction to Sensors and Data Analysis (Fall 2018)<a class="headerlink" href="#me-3263-introduction-to-sensors-and-data-analysis-fall-2018" title="Permalink to this headline">¶</a></h1>
<div class="section" id="lab-4-predicting-natural-frequencies-with-the-finite-element-method">
<h2>Lab #4 Predicting Natural Frequencies with the Finite Element Method<a class="headerlink" href="#lab-4-predicting-natural-frequencies-with-the-finite-element-method" title="Permalink to this headline">¶</a></h2>
<div class="section" id="what-is-the-finite-element-method">
<h3>What is the Finite Element Method?<a class="headerlink" href="#what-is-the-finite-element-method" title="Permalink to this headline">¶</a></h3>
<p>The Euler-Lagrange dynamic beam equation is an example of a partial differential
equation (PDE). These equations are common in many engineering applications e.g.
solid mechanics, electromagnetics, fluid mechanics, and quantum mechanics. The
finite element method solves PDEs. The FEM process involves two steps to create
matrices for a computer algorithm solution. First, the PDE is integrated from
the strong form to the weak form. Second, an approximation of the variable
“shapes” within each “element” is created to convert the integrals and
derivatives into matrices
<a class="reference external" href="http://bcs.wiley.com/he-bcs/Books?action=index&amp;bcsId=3625&amp;itemId=0470035803">(1)</a>.
For elements with nodes only at vertices, such as cubes (hexahedrons) or
pyramids (tetrahedrals), the “shape” function is linear for displacement.  The
simplest FEM divides a continuous structure into finite, interacting elements.
As a simple example, consider a rectangular beam with a force applied to stretch
it axially, as seen in Figure 1. Hooke’s law relates the force applied to strain
and deflection as such</p>
<p><span class="math notranslate nohighlight">\(F^{e} = A^{e}E^{e}\epsilon^{e} =
A^{e}E^{e}\frac{\delta^{e}}{l^{e}}=k^{e}\delta^{e}\)</span>
(1)</p>
<p>where <span class="math notranslate nohighlight">\(k^{e}\)</span> is the stiffness (force/displacement) of each element, <span class="math notranslate nohighlight">\(E^{e}\)</span> is
the Young’s modulus of each element, <span class="math notranslate nohighlight">\(\epsilon^{e}\)</span> is the strain in each
element, <span class="math notranslate nohighlight">\(\delta^{e}\)</span> is the change in length of each element, and <span class="math notranslate nohighlight">\(l^{e}\)</span> is
the original length of each element. Considering the displacement of each node,
<span class="math notranslate nohighlight">\(u_{i}\)</span>, the force on the element 1 is formed as such</p>
<p><span class="math notranslate nohighlight">\(\left[\begin{array}{c} F_{1} \\ F_{2}\end{array}\right] =
\left[\begin{array}{c c} k^{e} &amp; -k^{e}\\ -k^{e} &amp; k^{e}\end{array}\right]
\left[\begin{array}{c} u_{1} \\ u_{2}\end{array}\right]\)</span> (2)</p>
<p>where <span class="math notranslate nohighlight">\(F_1\)</span> and <span class="math notranslate nohighlight">\(F_2\)</span> are the forces on nodes 1 and 2, respectively, and <span class="math notranslate nohighlight">\(u_1\)</span>
and <span class="math notranslate nohighlight">\(u_2\)</span> are the displacements of nodes 1 and 2, respectively.</p>
<p><img alt="Figure 1: Diagram of axial loads on a beam made of one finite element." src="../_images/figure_011.png" /></p>
<p><em>Figure 1: Diagram of axial loads on a beam made of one finite element.</em></p>
</div>
<div class="section" id="predicting-natural-frequencies">
<h3>Predicting Natural Frequencies<a class="headerlink" href="#predicting-natural-frequencies" title="Permalink to this headline">¶</a></h3>
<p>In this lab you will use Ansys to predict natural frequencies of the
rectangular cantilever
beam. In finite element analysis (FEA), this is called a modal
analysis. In any FEA simulation, there are three steps: pre-process, solve, and
post-process. Here are the steps in a FEA modal analysis <span class="xref myst">(2)</span>:</p>
<ol class="simple">
<li><p>Pre-process</p></li>
</ol>
<p>a. Define material constants</p>
<p>b. Create geometric model</p>
<p>c. Define boundary conditions</p>
<p>d. Mesh the model (turn the continuous volume into discrete nodes and elements)</p>
<ol class="simple">
<li><p>Solve</p></li>
</ol>
<p>a. Assemble stiffness matrix, <span class="math notranslate nohighlight">\(K\)</span></p>
<p>b. Assemble mass matrix, <span class="math notranslate nohighlight">\(M\)</span></p>
<p>c. solve the eigenvalue problem, <span class="math notranslate nohighlight">\(Ku=\lambda M u\)</span></p>
<ol class="simple">
<li><p>Post-process</p></li>
</ol>
<p>a. Determine natural frequencies</p>
<p>a. Plot mode shapes</p>
<p>b. Determine maximum displacement/acceleration for each mode</p>
<p>c. Determine maximum stress and strain for each mode</p>
</div>
<div class="section" id="two-degree-of-freedom-modal-analysis-example">
<h3>Two Degree of Freedom Modal Analysis Example<a class="headerlink" href="#two-degree-of-freedom-modal-analysis-example" title="Permalink to this headline">¶</a></h3>
<p>The solution for a modal analysis is accomplished by solving for eigenvalues of
the mass and stiffness matrices, <span class="math notranslate nohighlight">\(\bar{\bar{M}}\)</span> and <span class="math notranslate nohighlight">\(\bar{\bar{K}}\)</span>, respectively <a class="reference external" href="https://books.google.com/books/about/Engineering_Vibration.html?id=OCg-XwAACAAJ">(3)</a>. The output is a
number of eigenvalues, or natural frequencies, and their corresponding
eigenvectors, or mode shapes. As a simple example, consider the lumped mass
solution of two masses connected by three springs as seen in Fig. 2.</p>
<p><img alt="Figure 2: Two masses connected to 3 springs" src="../_images/spring_mass.png" /></p>
<p><em>Figure 2: Two masses connected to 3 springs</em></p>
<p>In the 2-mass system, we have 2 degrees of freedom, so there are 2 differential
equations that describe the motion of masses as such</p>
<p><span class="math notranslate nohighlight">\(m_1 \ddot{x}_1 = -k_1x_1-k_2(x_1-x_2)\)</span>  (3a)</p>
<p><span class="math notranslate nohighlight">\(m_2 \ddot{x}_2 = -k_3x_2-k_2(x_2-x_1)\)</span>  (3b)</p>
<p>where masses 1 and 2 have mass <span class="math notranslate nohighlight">\(m_1\)</span> and <span class="math notranslate nohighlight">\(m_2\)</span>, respectively, and springs 1, 2,
and 3 have stiffness <span class="math notranslate nohighlight">\(k_1\)</span>, <span class="math notranslate nohighlight">\(k_2\)</span>, and <span class="math notranslate nohighlight">\(k_3\)</span>, respectively. The differential
equations relate acceleration of mass 1 and mass 2, <span class="math notranslate nohighlight">\(\ddot{x}_1\)</span>
and<span class="math notranslate nohighlight">\(\ddot{x}_2\)</span>, to displacement, <span class="math notranslate nohighlight">\(x_1\)</span> and <span class="math notranslate nohighlight">\(x_2\)</span>. The mass and stiffness
matrices for this problem becomes</p>
<p><span class="math notranslate nohighlight">\(\bar{\bar{M}}\frac{d^2\bar{x}}{dt^2}=-\bar{\bar{K}}\bar{x}\)</span> (4a)</p>
<p><span class="math notranslate nohighlight">\(\left[\begin{array}{cc}
m_1 &amp; 0 \\
0 &amp; m_2 \end{array}\right]
\frac{d^2}{dt^2}\left[\begin{array}{c}
x_1 \\
x_2 \end{array}\right]=
-\left[\begin{array}{cc}
k_1+k_2 &amp; -k_2 \\
-k_2 &amp; k_2+k_3 \end{array}\right]
\left[\begin{array}{c}
x_1 \\
x_2 \end{array}\right]\)</span>  (4b)</p>
<p>The solution for <span class="math notranslate nohighlight">\(\bar{x}\)</span> will be a combination of sine and cosine functions at
given natural frequencies, depending upon initial conditions, substituting
<span class="math notranslate nohighlight">\(\bar{x}=\bar{u}\sin(\omega t)\)</span> Eqn 4b becomes</p>
<p><span class="math notranslate nohighlight">\(-\omega^2\left[\begin{array}{cc}
m_1 &amp; 0 \\
0 &amp; m_2 \end{array}\right]
\left[\begin{array}{c}
u_1 \\
u_2 \end{array}\right] \sin\omega t=
-\left[\begin{array}{cc}
k_1+k_2 &amp; -k_2 \\
-k_2 &amp; k_2+k_3 \end{array}\right]
\left[\begin{array}{c}
u_1 \\
u_2 \end{array}\right]\sin\omega t\)</span>  (5)</p>
<p>where <span class="math notranslate nohighlight">\(u_1\)</span> and <span class="math notranslate nohighlight">\(u_2\)</span> are amplitudes of the sine function and <span class="math notranslate nohighlight">\(\omega\)</span> is the
natural frequency. Now, the two ordinary differential equations have been
converted to one eigenvalue problem. The eigenvalues, of <span class="math notranslate nohighlight">\(\bar{\bar{M}}\)</span> and
<span class="math notranslate nohighlight">\(\bar{\bar{K}}\)</span> are equal to the natural frequencies squared. In the following
example, the natural frequencies for <span class="math notranslate nohighlight">\(m_1=m_2\)</span> = 0.2 kg and <span class="math notranslate nohighlight">\(k_1=k_2=k_3\)</span> = 500
N/m.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m1</span><span class="o">=</span><span class="n">m2</span><span class="o">=</span><span class="mf">0.1</span> <span class="c1"># 0.2 kg</span>
<span class="n">k1</span><span class="o">=</span><span class="n">k2</span><span class="o">=</span><span class="n">k3</span><span class="o">=</span><span class="mi">500</span> <span class="c1"># 500 N/m</span>

<span class="n">M</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="n">m1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="n">m2</span><span class="p">]])</span>
<span class="n">K</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="n">k1</span><span class="o">+</span><span class="n">k2</span><span class="p">,</span><span class="o">-</span><span class="n">k2</span><span class="p">],[</span><span class="o">-</span><span class="n">k2</span><span class="p">,</span><span class="n">k2</span><span class="o">+</span><span class="n">k3</span><span class="p">]])</span>
<span class="n">e</span><span class="p">,</span><span class="n">v</span><span class="o">=</span><span class="n">linalg</span><span class="o">.</span><span class="n">eig</span><span class="p">(</span><span class="n">K</span><span class="p">,</span><span class="n">M</span><span class="p">)</span>
<span class="n">w1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">real</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">pi</span>
<span class="n">v1</span><span class="o">=</span><span class="n">v</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="nb">max</span><span class="p">(</span><span class="n">v</span><span class="p">[:,</span><span class="mi">0</span><span class="p">])</span>

<span class="n">w2</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">real</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">pi</span>
<span class="n">v2</span><span class="o">=</span><span class="n">v</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="nb">max</span><span class="p">(</span><span class="n">v</span><span class="p">[:,</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;1st natural frequency is </span><span class="si">%1.0f</span><span class="s1"> Hz, </span><span class="se">\</span>
<span class="s1">     mode shape: </span><span class="si">%1.0f</span><span class="s1">*x1(t)=</span><span class="si">%1.0f</span><span class="s1">*x2(t)&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">w1</span><span class="p">,</span><span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;2nd natural frequency is </span><span class="si">%1.0f</span><span class="s1"> Hz, </span><span class="se">\</span>
<span class="s1">    mode shape: </span><span class="si">%1.0f</span><span class="s1">*x1(t)=</span><span class="si">%1.0f</span><span class="s1">*x2(t)&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">w2</span><span class="p">,</span><span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1st natural frequency is 11 Hz,      mode shape: 1*x1(t)=1*x2(t)
2nd natural frequency is 19 Hz,     mode shape: -1*x1(t)=1*x2(t)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">pi</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([11.25395395+0.j, 19.49242003+0.j])
</pre></div>
</div>
</div>
</div>
<p><img alt="Figure 3: Vibration modes of 2-mass system when masses are 200 g and 3 springs have stiffness k=500 N/m" src="../_images/eigenvalues.gif" /></p>
<p><em>Figure 3: Vibration modes of 2-mass system when masses are 200 g and 3 springs have stiffness k=500 N/m. The first and second modes are animated on the left and right, respectively.</em></p>
<p>The amplitudes of the displacements will be proportional to the initial
velocities. A <strong>modal analysis</strong> is concerned with the natural frequencies and
mode shapes. This example has two modes (because it has two degrees of freedom).
In mode one, the displacement of mass 1 is equal to mass 2  and <span class="math notranslate nohighlight">\(\omega_{1}=\sqrt{(k_1+k_2)/(m_1+m_2)}\)</span>. In mode two, the
displacement of mass 1 is equal and opposite to mass 2 and <span class="math notranslate nohighlight">\(\omega_{2}=\sqrt{2(k_1+k_2+k_3)/(m_1+m_2)}\)</span>. The natural frequencies
are 8 and 14 Hz, for mode 1 and 2, respectively.</p>
</div>
<div class="section" id="fea-modal-analysis">
<h3>FEA modal analysis<a class="headerlink" href="#fea-modal-analysis" title="Permalink to this headline">¶</a></h3>
<p>In the FEA modal analysis, each element is composed of 8 nodes (for hexahedrals) that are shared
by adjoining elements. Each node can move in three dimensions, which means the
total degrees of freedom of the system is <span class="math notranslate nohighlight">\(3\times\)</span>(number of nodes). So the
eigenvalue solution would reveal <span class="math notranslate nohighlight">\(3\times\)</span>(number of nodes) natural frequencies
and vibration modes. We cannot use the high vibration mode results because they
will not be accurate, but the lowest vibration modes will become more accurate
as we increase the number of nodes in the system. This is called “convergence”.
The ideal FEA solution will reproduce our analytical or experimental results.
Table 1 demonstrates the convergence of the first natural frequency for a beam
where E=200 GPa, L=300 mm, t=3 mm, w=12 mm, and <span class="math notranslate nohighlight">\(\rho\)</span>=8050 kg/m^3.</p>
<p><em>Table 1: Convergence of the first natural frequency for a steel beam
where E=200 GPa, L=300 mm, t=3 mm, w=12 mm, and <span class="math notranslate nohighlight">\(\rho\)</span>=8050 kg/m^3. Error is calculated based upon best estimate <span class="math notranslate nohighlight">\(f_{best}\)</span> and analytical prediction <span class="math notranslate nohighlight">\(f_{an}\)</span>.</em></p>
<p>|# of nodes | first natural Frequency (Hz) | relative error <span class="math notranslate nohighlight">\(|f_{best}-f_{prev}|/f_{best}\)</span> | absolute error <span class="math notranslate nohighlight">\(|f_{an}-f_{best}|/f_{an}\)</span>|
|— | — | — |—|
|1153| 26.252 |  | 0.020
|1438 | 26.243 | 3.4e-4 |0.021 |
|1913 | 26.235 | 3.1e-4 |0.021|
|3621 | 26.219 | 3.1e-4 |0.021|
|4521 | 26.218 | 6.5e-4 |0.0217|
|10,437|26.217 |3.8e-5  |0.0218|
|21,351 | 26.215 |7.6e-5|0.0218|</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1153</span><span class="p">,</span>  <span class="mi">1438</span><span class="p">,</span>  <span class="mi">1913</span><span class="p">,</span>  <span class="mi">3621</span><span class="p">,</span>   <span class="mi">4521</span><span class="p">,</span>   <span class="mi">10437</span><span class="p">,</span> <span class="mi">15316</span><span class="p">,</span>  <span class="mi">17801</span><span class="p">,</span> <span class="mi">21351</span><span class="p">])</span>
<span class="n">f</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">26.252</span><span class="p">,</span><span class="mf">26.243</span><span class="p">,</span><span class="mf">26.235</span><span class="p">,</span><span class="mf">26.219</span><span class="p">,</span> <span class="mf">26.218</span><span class="p">,</span> <span class="mf">26.217</span><span class="p">,</span><span class="mf">26.216</span><span class="p">,</span> <span class="mf">26.215</span><span class="p">,</span><span class="mf">26.215</span><span class="p">])</span>
<span class="n">rel_error</span><span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">-</span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
<span class="n">abs_error</span><span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">f</span><span class="o">-</span><span class="mf">26.8</span><span class="p">)</span><span class="o">/</span><span class="mf">26.8</span>
<span class="n">plt</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">n</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span><span class="n">rel_error</span><span class="p">,</span><span class="s1">&#39;o-&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;number of nodes&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;relative error&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0, 0.5, &#39;relative error&#39;)
</pre></div>
</div>
<img alt="../_images/ME3263-Lab_04_13_1.png" src="../_images/ME3263-Lab_04_13_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">abs_error</span><span class="p">,</span><span class="s1">&#39;o-&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;number of nodes&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;absolute error&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0, 0.5, &#39;absolute error&#39;)
</pre></div>
</div>
<img alt="../_images/ME3263-Lab_04_14_1.png" src="../_images/ME3263-Lab_04_14_1.png" />
</div>
</div>
<p>After 4,000 degrees of freedom, the first natural frequency mode has converged
(the relative error is stable and the absolute error has diminishing returns). The absolute error compares the analytical model
to the FEA model. There is a stable 2.2 % error in the frequencies predicted
from Euler-Lagrange beam theory and 3D FEA. <strong>Make sure each reported frequency
has converged, demonstrate convergence in your report</strong>.</p>
<p>Check the accuracy of your model in 3 ways:</p>
<ol class="simple">
<li><p>Check convergence of your results (convergence)</p></li>
<li><p>Compare FEA results to analytical model (verification)</p></li>
<li><p>Compare FEA results to experimental results (validation)</p></li>
</ol>
<p>Method 1 proves that your results are repeatable. Method 2 is a verification of
your model. Verification of a model proves that with different methods, the
assumptions in your model will converge to the same solution. Method 3 is a
validation of your model. Validation uses measured results to confirm your model
is correct. For many engineering structures, method 2 is not feasible. Instead,
we check convergence with method 1 and validate the model with experimental
results. Here, we are using natural frequencies as our comparison metric.</p>
<p>The other method we will use to confirm our results is to look at the mode shape
and the strain or acceleration at the point of measurement. We can probe the
value of a given measurement in the FEA results. The absolute value of
the result will depend upon the amplitude of the impulse applied (from the
hammer), but we can compare relative amplitudes based upon the frequency mode.
In the example used previously, 300-by-12-by-3 mm^3 steel beam (10,437 nodes),
the amplitude of axial strain on the top surface 11 mm from the support is given
for the first 3 vibration modes in Table 2. The mode 2 axial strain is nominally
zero. This is the first torsion vibration mode. In order to measure this response
we would need a different experimental setup.</p>
<p><em>Table 2: Relative amplitude of axial strain for first three modes on top
surface for a steel beam where E=200 GPa, L=300 mm, t=3 mm, w=12 mm, and
<span class="math notranslate nohighlight">\(\rho\)</span>=8050 kg/m^3.</em></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>mode</p></th>
<th class="head"><p>amplitude of strain (%)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1.2</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>0.005</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>-6.5</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="references">
<h1>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h1>
<ol class="simple">
<li><p>Fish, J. and Belytschko, T. A First Course in Finite Elements. Wiley 2007.</p></li>
<li><p><span class="xref myst">Ansys help topic: Modal Analysis</span></p></li>
<li><p>Engineering Vibration, D. J. Inman, Ch. 4 Multiple-Degree-of-Freedom Systems. Prentice Hall.</p></li>
</ol>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./ME3263-Lab_04"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Ryan C. Cooper, Martin Huber, Shubhangi Bansude<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>